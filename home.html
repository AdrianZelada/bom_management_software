<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Gentellela Alela! | </title>

    <!-- Bootstrap -->
    <link href="vendors/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="lib/bootstrap-theme.min.css" rel="stylesheet" />

    <!-- Font Awesome -->

    <link href="vendors/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <!-- FullCalendar -->

    <!-- Custom styling plus plugins -->
    <link href="build/css/custom.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="css/global.css"/>


  </head>

  <body class="nav-md" ng-app="app" ng-controller="newProjectController">
    <div id="nenDen" class="divNenDen"></div>
    <div class="modal_popup" id="popup">
      <div class="col-md-2">
        <input ng-model="tb_filterMaterialByName._id" type="text" class="form-control" placeholder="search by id..." />
      </div>
      <div class="col-md-6">
        <input ng-model="tb_filterMaterialByName.Description" type="text" class="form-control" placeholder="search by item name..." />
      </div>
        <div class="col-md-2">
            <input ng-model="tb_filterMaterialByName.Spec" type="text" class="form-control" placeholder="search by size..." />
        </div>
        <div class="col-md-2">
            <input ng-model="tb_filterMaterialByName.Category" type="text" class="form-control" placeholder="search by class..." />
        </div>
      <table class="table table-hover col-md-12" style="margin-top: 10px;">
        <tr style="background-color: #EEEEEE;">
          <th>#</th>
          <th>Description</th>
          <th>Spec</th>
          <th>Category</th>
          <th>Origin</th>
          <th></th>
        </tr>
        <tr ng-repeat="item in items | orderBy: item._id | filter: tb_filterMaterialByName">
          <td><b>{{item._id}}</b></td>
          <td>{{item.Description}}</td>
          <td>{{item.Spec}}</td>
          <td>{{item.Category}}</td>
          <td>{{item.Origin}}</td>
          <td>
            <button class="btn btn-primary" ng-click="addItemToThisGroup(item, groupIndex, selectedGroupIndex, $index)"><i class="fa fa-plus" aria-hidden="true"></i></button>
          </td>
        </tr>
      </table>
    </div>
    <div class="modal_popup" id="popup2">
      <div class="col-md-12">
        <h4 style="font-size:32px;float:left;width:60%;display:inline-block;">_id: {{selectedProject._id}}, total: {{getToTalSelectedProjectMoney() | currency:'':0}}</h4>

        <button ng-click="saveAndCloseThisReport()" id="goToCheckOutPage" class="btn btn-success" style="margin-top:8px;;display:inline-block;margin-left:10px;float:right;padding-left:20px;padding-right:20px;font-size:16px;">
          <i class="fa fa-arrow-right" aria-hidden="true" style="display:inline-block;margin-right: 10px;"></i>Save and Close
        </button>


      </div>
      <div class="col-md-12">
        <div class="col-md-12" style="margin-bottom:10px;">
          <form ng-submit="saveCurrentCaterogyToSelectedProject()" class="col-md-10">
            <div class="col-md-9">
              <input type="text" class="form-control" ng-model="tb_currentGroupNameSelectedProject" placeholder="new group name..." style="height:40px;line-height:40px;width:100%;margin:0px;" required />
            </div>
            <div class="col-md-3">
              <button type="submit" class="btn btn-warning" style="width:100%;height:40px;">
                <i class="fa fa-plus" aria-hidden="true" style="margin-right:8px;"></i>Add Group
              </button>
            </div>

          </form>
          <div class="col-md-2">

            <button class="btn btn-warning" style="height:40px;width:100%;" id="btn_indertItemToSelectedProject">
              <i class="fa fa-plus" aria-hidden="true" style="margin-right:8px;"></i>Add Item
            </button>
          </div>
        </div>


        <table class="table table-hover col-md-12" style="margin-top: 10px;">
          <tr style="background-color: #EEEEEE;">
            <th class="col-md-1" style="font-size:16px;">#</th>
            <th class="col-md-4" style="font-size:16px;">Description</th>
            <th class="col-md-1" style="font-size:16px;">Category</th>
            <th class="col-md-1" style="font-size:16px;">Unit</th>
            <th class="col-md-1" style="font-size:16px;">Quantity</th>
            <th class="col-md-1" style="font-size:16px;">Price</th>
            <th class="col-md-1" style="font-size:16px;">Labor</th>
            <th class="col-md-1" style="font-size:16px;">Total</th>
            <th class="col-md-1" style="font-size:16px;"></th>
          </tr>
        </table>
        <table class="table table-hover col-md-12">

          <tr ng-repeat="item in selectedProject.items track by $index">
            <td class="col-md-1">{{$index + 1}}</td>
            <td class="col-md-4">{{item.Description}}</td>
            <td class="col-md-1">{{item.Spec}}</td>
            <td class="col-md-1">{{item.Unit}}</td>
            <td class="col-md-1"><input type="text" class="form-control" ng-model="item.quantity" value="{{item.quantity}}"></input></td>
            <td class="col-md-1"><input type="text" class="form-control" ng-model="item.UnitMaterial" value="{{item.UnitMaterial}}"></input></td>
            <td class="col-md-1"><input type="text" class="form-control" ng-model="item.UnitLabor" value="{{item.UnitLabor}}"></input></td>
            <td class="col-md-1" ng-bind="calculateEachItemTotalMoney2(item.quantity, item.UnitMaterial, item.UnitLabor, $index)"></td>
            <td>
                <button class="btn btn-danger" ng-click="removeThisItemFromSelectedProjectItemsList($index)"><i class="fa fa-minus" aria-hidden="true"></i></button>
            </td>
          </tr>
        </table>
        <table class="table table-hover col-md-12" ng-repeat="group in selectedProject.groups">
          <tr>
            <td colspan="9" style="background-color:#EEEEEE;">
              <input type="text" class="form-control" style="max-width:400px;display:inline-block;" ng-model="group.name" on-change="updateGroupName($index, $event.target.value)" value="{{group.name}}" />
              <button ng-click="removeThisGroupFromSelectedProject($index)" class="btn btn-danger" style="float:right;display:inline-block;"><i class="fa fa-minus" aria-hidden="true"></i></button>
              <button ng-click="addNewItemToThisSelectedGroup($index)" class="btn btn-success" style="float:right;display:inline-block;margin-right:10px;"><i class="fa fa-plus" aria-hidden="true"></i>Add Item</button>
            </td>
          </tr>

          <tr ng-repeat="item in group.items track by $index">
            <td class="col-md-1">{{$index + 1}}</td>
            <td class="col-md-4">{{item.Description}}</td>
            <td class="col-md-1">{{item.Spec}}</td>
            <td class="col-md-1">{{item.Unit}}</td>
            <td class="col-md-1"><input type="text" class="form-control" ng-model="item.quantity" on-change="insertQuantity(group, item, $event.target.value)" value="{{item.quantity}}"></input></td>
            <td class="col-md-1"><input type="text" class="form-control" ng-model="item.UnitMaterial" on-change="insertPrice(group, item, $event.target.value)" value="{{item.UnitMaterial}}"></input></td>
            <td class="col-md-1"><input type="text" class="form-control" ng-model="item.UnitLabor" on-change="insertLaborCost(group, item, $event.target.value)" value="{{item.UnitLabor}}"></input></td>
            <td class="col-md-1" ng-bind="calculateEachItemTotalMoney2(item.quantity, item.UnitMaterial, item.UnitLabor, $index)"></td>
            <td>
                <button class="btn btn-danger" ng-click="removeThisItemFromSelectedProject(group.name, $index, item)"><i class="fa fa-minus" aria-hidden="true"></i></button>
            </td>
          </tr>
        </table>
      </div>


    </div>
    <div class="container body">
      <div class="main_container">
        <div class="col-md-3 left_col">
          <div class="left_col scroll-view">
            <div class="navbar nav_title" style="border: 0;">
              <a href="#home" class="site_title"><i class="fa fa-paw"></i> <span>BOM Software</span></a>
            </div>

            <div class="clearfix"></div>

            <br />

            <!-- sidebar menu -->
            <div id="sidebar-menu" class="main_menu_side hidden-print main_menu">
              <div class="menu_section">
                <ul class="nav side-menu">
                  <li ng-click="showHomePannel()"><a><i class="fa fa-home"></i> Home <span class="fa fa-chevron-down"></span></a></li>
                  <li ng-click="showNewProjectPannel()"><a><i class="fa fa-edit"></i> New Project <span class="fa fa-chevron-down"></span></a></li>
                  <li ng-click="showDatabasePannel()"><a><i class="fa fa-table"></i> Item Database <span class="fa fa-chevron-down"></span></a></li>
                </ul>
              </div>

            </div>
            <!-- /sidebar menu -->

            <!-- /menu footer buttons -->
            <div class="sidebar-footer hidden-small">
              <a data-toggle="tooltip" data-placement="top" title="Settings">
                <span class="glyphicon glyphicon-cog" aria-hidden="true"></span>
              </a>
              <a data-toggle="tooltip" data-placement="top" title="FullScreen">
                <span class="glyphicon glyphicon-fullscreen" aria-hidden="true"></span>
              </a>
              <a data-toggle="tooltip" data-placement="top" title="Lock">
                <span class="glyphicon glyphicon-eye-close" aria-hidden="true"></span>
              </a>
              <a data-toggle="tooltip" data-placement="top" title="Logout">
                <span class="glyphicon glyphicon-off" aria-hidden="true"></span>
              </a>
            </div>
            <!-- /menu footer buttons -->
          </div>
        </div>

        <!-- top navigation -->
        <div class="top_nav">
          <div class="nav_menu">
            <nav>
              <div class="nav toggle">
                <a id="menu_toggle"><i class="fa fa-bars"></i></a>
              </div>


              <ul class="nav navbar-nav navbar-right">
                <li class="">
                  <a href="javascript:;" class="user-profile dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                    <img src="images/img.jpg" alt="">Welcome Admin
                    <span class=" fa fa-angle-down"></span>
                  </a>
                  <ul class="dropdown-menu dropdown-usermenu pull-right">
                    <li><a href="javascript:;"> Profile</a></li>
                    <li>
                      <a href="javascript:;">
                        <span>Settings</span>
                      </a>
                    </li>
                    <li><a href="javascript:;">Help</a></li>
                    <li><a href="login.html"><i class="fa fa-sign-out pull-right"></i> Log Out</a></li>
                  </ul>
                </li>

                <li role="presentation" class="dropdown">
                  <a href="javascript:;" class="dropdown-toggle info-number" data-toggle="dropdown" aria-expanded="false">
                    <i class="fa fa-envelope-o"></i>
                    <span class="badge bg-green">6</span>
                  </a>
                  <ul id="menu1" class="dropdown-menu list-unstyled msg_list" role="menu">
                    <li>
                      <a>
                        <span class="image"><img src="images/img.jpg" alt="Profile Image" /></span>
                        <span>
                          <span>John Smith</span>
                          <span class="time">3 mins ago</span>
                        </span>
                        <span class="message">
                          Film festivals used to be do-or-die moments for movie makers. They were where...
                        </span>
                      </a>
                    </li>
                    <li>
                      <a>
                        <span class="image"><img src="images/img.jpg" alt="Profile Image" /></span>
                        <span>
                          <span>John Smith</span>
                          <span class="time">3 mins ago</span>
                        </span>
                        <span class="message">
                          Film festivals used to be do-or-die moments for movie makers. They were where...
                        </span>
                      </a>
                    </li>
                    <li>
                      <a>
                        <span class="image"><img src="images/img.jpg" alt="Profile Image" /></span>
                        <span>
                          <span>John Smith</span>
                          <span class="time">3 mins ago</span>
                        </span>
                        <span class="message">
                          Film festivals used to be do-or-die moments for movie makers. They were where...
                        </span>
                      </a>
                    </li>
                    <li>
                      <a>
                        <span class="image"><img src="images/img.jpg" alt="Profile Image" /></span>
                        <span>
                          <span>John Smith</span>
                          <span class="time">3 mins ago</span>
                        </span>
                        <span class="message">
                          Film festivals used to be do-or-die moments for movie makers. They were where...
                        </span>
                      </a>
                    </li>
                    <li>
                      <div class="text-center">
                        <a>
                          <strong>See All Alerts</strong>
                          <i class="fa fa-angle-right"></i>
                        </a>
                      </div>
                    </li>
                  </ul>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <!-- /top navigation -->

        <!-- page content -->
        <div class="right_col" role="main">
          <div class="">
            <div class="clearfix"></div>

            <div class="row" style="min-height:600px;">
              <div class="col-md-12">
                  <div id="homePannel">
                      <div class="x_panel">
                          <div class="x_title">
                              <h2 style="font-size:26px;">Ongoing Projects<small style="font-size:14px;">Review </small></h2>
                              <ul class="nav navbar-right panel_toolbox">
                                  <li>
                                      <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                                  </li>
                                  <li class="dropdown">
                                      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                                      <ul class="dropdown-menu" role="menu">
                                          <li>
                                              <a href="#">Setting 1</a>
                                          </li>
                                          <li>
                                              <a href="#">Setting 2</a>
                                          </li>
                                      </ul>
                                  </li>
                                  <li>
                                      <a class="close-link"><i class="fa fa-close"></i></a>
                                  </li>
                              </ul>
                              <div class="clearfix"></div>
                          </div>
                          <div class="x_content">
                              <div class="col-md-4" ng-repeat="report in ongoingReports track by $index">
                                  <div class="x_panel">
                                      <div class="x_title">
                                          <h2>ID: {{report._id}}<small></small></h2>
                                          <ul class="nav navbar-right panel_toolbox">
                                              <li>
                                                  <a class="collapse-link" ng-click="sendThisReportToPassedProjectsSentByOngoing(report, $index)"><i class="fa fa-chevron-down"></i></a>
                                              </li>
                                              <li class="dropdown">
                                                  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                                                  <ul class="dropdown-menu" role="menu">
                                                      <li>
                                                          <a href="#" ng-click="sendThisReportToPassedProjectsSentByOngoing(report, $index)">Send to passed projects</a>
                                                      </li>
                                                      <li>
                                                          <a href="#" ng-click="sendThisReportToFailedProjectsSentByOngoing(report, $index)">Send to failed projects</a>
                                                      </li>
                                                  </ul>
                                              </li>
                                              <li>
                                                  <a class="close-link" ng-click="deleteThisOngoingReport(report._id, $index)"><i class="fa fa-close"></i></a>
                                              </li>
                                          </ul>
                                          <div class="clearfix"></div>
                                      </div>
                                      <div class="x_content">
                                          <article class="media event" style="margin-bottom:6px;">
                                              <a class="pull-left date">
                                                  <p class="month">{{getMonthFormated(report.Lastmodified)}}</p>
                                                  <p class="day">{{getDayFormated(report.Lastmodified)}}</p>
                                              </a>
                                              <div class="media-body">
                                                  <p>Created by: {{report.Createdby | uppercase}}</p>
                                                  <p>Last modified: {{report.Lastmodified}}</p>
                                                  <a class="title" ng-click="viewThisReport(report)">View Report Detail</a> |
                                                  <a class="title" ng-click="exportReport(report)">Export Excel</a>
                                              </div>
                                          </article>

                                          <p class="title" style="margin-left:0px;">
                                            <span ng-click="showReportInput(report)" style="font-weight:bold;float:left;width:40%;display:inline-block;">Comments:</span>
                                            <form ng-show="report.showInput" ng-submit="changeThisReportComment(report)" style="float:left;display:inline-block;margin-top:-6px;width:55%;">
                                              <input class="smallText" type="text" ng-model="report.Comment" value="{{report.Comment}}" />
                                              <button style="display:none" type="submit"></button>
                                            </form>
                                            <span style="float:left;width:95%;display:inline-block;">{{report.Comment}}</span>


                                          </p>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                      <div class="x_panel">
                          <div class="x_title">
                              <h2 style="font-size:26px;">Passed Projects<small style="font-size:14px;">Review </small></h2>
                              <ul class="nav navbar-right panel_toolbox">
                                  <li>
                                      <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                                  </li>
                                  <li class="dropdown">
                                      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                                      <ul class="dropdown-menu" role="menu">
                                          <li>
                                              <a href="#">Settings 1</a>
                                          </li>
                                          <li>
                                              <a href="#">Settings 2</a>
                                          </li>
                                      </ul>
                                  </li>
                                  <li>
                                      <a class="close-link"><i class="fa fa-close"></i></a>
                                  </li>
                              </ul>
                              <div class="clearfix"></div>
                          </div>
                          <div class="x_content">
                              <div class="col-md-4" ng-repeat="report in passReports">
                                  <div class="x_panel">
                                      <div class="x_title">
                                          <h2>ID: {{report._id}}<small></small></h2>
                                          <ul class="nav navbar-right panel_toolbox">
                                              <li>
                                                  <a class="collapse-link" ng-click="sendThisReportToOngoingProjectsSentByPassed(report, $index)"><i class="fa fa-chevron-up"></i></a>
                                              </li>
                                              <li>
                                                  <a class="collapse-link" ng-click="sendThisReportToFailedProjectsSentByPassed(report, $index)"><i class="fa fa-chevron-down"></i></a>
                                              </li>
                                              <li class="dropdown">
                                                  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                                                  <ul class="dropdown-menu" role="menu">
                                                      <li>
                                                          <a href="#" ng-click="sendThisReportToOngoingProjectsSentByPassed(report, $index)">Send to ongoing projects</a>
                                                      </li>
                                                      <li>
                                                          <a href="#" ng-click="sendThisReportToFailedProjectsSentByPassed(report, $index)">Send to failed projects</a>
                                                      </li>
                                                  </ul>
                                              </li>
                                              <li>
                                                  <a class="close-link" ng-click="deleteThisPassReport(report._id, $index)"><i class="fa fa-close"></i></a>
                                              </li>
                                          </ul>
                                          <div class="clearfix"></div>
                                      </div>
                                      <div class="x_content">
                                          <article class="media event" style="margin-bottom:6px;">
                                              <a class="pull-left date">
                                                  <p class="month">{{getMonthFormated(report.Lastmodified)}}</p>
                                                  <p class="day">{{getDayFormated(report.Lastmodified)}}</p>
                                              </a>
                                              <div class="media-body">
                                                  <p>Created by: {{report.Createdby | uppercase}}</p>
                                                  <p>Last modified: {{report.Lastmodified}}</p>
                                                  <a class="title" ng-click="viewThisReport(report)">View Report Detail</a> |
                                                  <a class="title" ng-click="exportReport(report)">Export Excel</a>
                                              </div>
                                          </article>

                                          <p class="title" style="margin-left:0px;">
                                            <span ng-click="showReportInput(report)" style="font-weight:bold;float:left;width:40%;display:inline-block;">Comments:</span>
                                            <form ng-show="report.showInput" ng-submit="changeThisReportComment(report)" style="float:left;display:inline-block;margin-top:-6px;width:55%;">
                                              <input class="smallText" type="text" ng-model="report.Comment" value="{{report.Comment}}" />
                                              <button style="display:none" type="submit"></button>
                                            </form>
                                            <span style="float:left;width:95%;display:inline-block;">{{report.Comment}}</span>


                                          </p>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                      <div class="x_panel">
                          <div class="x_title">
                              <h2 style="font-size:26px;">Failed Projects<small style="font-size:14px;">Review </small></h2>
                              <ul class="nav navbar-right panel_toolbox">
                                  <li>
                                      <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                                  </li>
                                  <li class="dropdown">
                                      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                                      <ul class="dropdown-menu" role="menu">
                                          <li>
                                              <a href="#">Settings 1</a>
                                          </li>
                                          <li>
                                              <a href="#">Settings 2</a>
                                          </li>
                                      </ul>
                                  </li>
                                  <li>
                                      <a class="close-link" ng-click="deleteThisFailedReport(report._id, $index)"><i class="fa fa-close"></i></a>
                                  </li>
                              </ul>
                              <div class="clearfix"></div>
                          </div>
                          <div class="x_content">
                              <div class="col-md-4" ng-repeat="report in failedReports">
                                  <div class="x_panel">
                                      <div class="x_title">
                                          <h2>ID: {{report._id}}<small></small></h2>
                                          <ul class="nav navbar-right panel_toolbox">
                                              <li>
                                                  <a class="collapse-link" ng-click="sendThisReportToPassedProjectsSentByFailed(report, $index)"><i class="fa fa-chevron-up"></i></a>
                                              </li>
                                              <li class="dropdown">
                                                  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                                                  <ul class="dropdown-menu" role="menu">
                                                      <li>
                                                          <a href="#" ng-click="sendThisReportToOngoingProjectsSentByFailed(report, $index)">Send to ongoing projects</a>
                                                      </li>
                                                      <li>
                                                          <a href="#" ng-click="sendThisReportToPassedProjectsSentByFailed(report, $index)">Send to passed projects</a>
                                                      </li>
                                                  </ul>
                                              </li>
                                              <li>
                                                  <a class="close-link"><i class="fa fa-close"></i></a>
                                              </li>
                                          </ul>
                                          <div class="clearfix"></div>
                                      </div>
                                      <div class="x_content">
                                          <article class="media event" style="margin-bottom:6px;">
                                              <a class="pull-left date">
                                                  <p class="month">{{getMonthFormated(report.Lastmodified)}}</p>
                                                  <p class="day">{{getDayFormated(report.Lastmodified)}}</p>
                                              </a>
                                              <div class="media-body">
                                                  <p>Created by: {{report.Createdby | uppercase}}</p>
                                                  <p>Last modified: {{report.Lastmodified}}</p>
                                                  <a class="title" ng-click="viewThisReport(report)">View Report Detail</a> |
                                                  <a class="title" ng-click="exportReport(report)">Export Excel</a>
                                              </div>
                                          </article>

                                          <p class="title" style="margin-left:0px;">
                                            <span ng-click="showReportInput(report)" style="font-weight:bold;float:left;width:40%;display:inline-block;">Comments:</span>
                                            <form ng-show="report.showInput" ng-submit="changeThisReportComment(report)" style="float:left;display:inline-block;margin-top:-6px;width:55%;">
                                              <input class="smallText" type="text" ng-model="report.Comment" value="{{report.Comment}}" />
                                              <button style="display:none" type="submit"></button>
                                            </form>
                                            <span style="float:left;width:95%;display:inline-block;">{{report.Comment}}</span>


                                          </p>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>


                <div class="x_panel" id="newProjectPannel" style="display:none;">
                  <div class="x_title">
                    <h2 style="font-size:24px;">Create New Project Form<small style="font-size:16px;"></small></h2>
                    <ul class="nav navbar-right panel_toolbox">
                      <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                      </li>
                      <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                        <ul class="dropdown-menu" role="menu">
                          <li><a href="#">Settings 1</a>
                          </li>
                          <li><a href="#">Settings 2</a>
                          </li>
                        </ul>
                      </li>
                      <li><a class="close-link"><i class="fa fa-close"></i></a>
                      </li>
                    </ul>
                    <div class="clearfix"></div>
                  </div>
                  <div class="x_content">


                    <div id="createNewPorjectView">
                        <div id ="projectInfoView" class="viewChild">
                          <h2 style="font-size:32px;margin-left:12%;margin-bottom:16px;">General Information</h2>
                          <form class="form-horizontal" ng-submit="createNewProject()">
                            <div class="form-group" style="margin-bottom:16px;">
                              <label for="tb_projectName" class="col-sm-2 control-label">Project ID:</label>
                              <div class="col-sm-8">
                                <input class="form-control" ng-model="tb_projectName" placeholder="project name..." required />
                              </div>
                            </div>
                              <div class="form-group" style="margin-bottom:16px;">
                                  <label class="col-sm-2 control-label">Report Url:</label>
                                  <div class="col-sm-8">
                                      <input class="form-control" ng-model="reportUrl" placeholder="project name..." disabled />
                                  </div>
                              </div>
                              <div class="form-group" style="margin-bottom:16px;">
                                  <label class="col-sm-2 control-label">Created by:</label>
                                  <div class="col-sm-8">
                                      <input class="form-control" ng-model="newProject.Createdby" placeholder="project name..." disabled />
                                  </div>
                              </div>
                              <div class="form-group" style="margin-bottom:16px;">
                                  <label class="col-sm-2 control-label">Time created:</label>
                                  <div class="col-sm-8">
                                      <input class="form-control" ng-model="newProject.Lastmodified" placeholder="project name..." disabled />
                                  </div>
                              </div>

                            <div class="form-group" style="margin-bottom:16px;">
                              <label for="tb_company" class="col-sm-2 control-label">Status:</label>
                              <div class="col-sm-8">
                                <select class="form-control" id="select_Category">
                                  <option>ongoing</option>
                                  <option>pass</option>
                                  <option>failed</option>
                                </select>
                              </div>
                            </div>
                              <div class="form-group" style="margin-bottom:16px;">
                                  <label class="col-sm-2 control-label">Comments:</label>
                                  <div class="col-sm-8">
                                      <textarea class="form-control" ng-model="newProject.Comment" rows="3" placeholder="comments here..."></textarea>
                                  </div>
                              </div>
                            <div class="form-group" style="margin-bottom:16px;">
                              <div class="col-sm-offset-2 col-sm-8">
                                <button type="submit" class="btn btn-default">Create project</button>
                              </div>
                            </div>
                          </form>
                        </div>

                        <div id="previewProjectView" class="viewChild2 col-md-12">
                          <div class="col-md-12">
                            <h3 style="font-size:32px;">Add Items to: {{newProject.name}}
                            <button ng-click="goToCheckOutPage()" id="goToCheckOutPage" class="btn btn-success" style="display:inline-block;margin-left:10px; float:right;padding-left:20px;padding-right:20px;font-size:16px;">
                              <i class="fa fa-arrow-right" aria-hidden="true" style="display:inline-block;margin-right: 10px;"></i>Check out
                            </button>

                          </h3>
                          </div>
                          <div class="col-md-12">

                            <div class="col-md-12" style="margin-bottom:10px;">
                              <form ng-submit="saveCurrentCaterogy()" class="col-md-10">
                                <div class="col-md-9">
                                  <input type="text" class="form-control" ng-model="tb_currentGroupName" placeholder="new group name..." style="height:40px;line-height:40px;width:100%;margin:0px;" required />
                                </div>
                                <div class="col-md-3">
                                  <button type="submit" class="btn btn-warning" style="width:100%;height:40px;">
                                    <i class="fa fa-plus" aria-hidden="true" style="margin-right:8px;"></i>Add Group
                                  </button>
                                </div>

                              </form>
                              <div class="col-md-2">

                                <button class="btn btn-warning" style="height:40px;width:100%;" id="btn_indertItemToProject">
                                  <i class="fa fa-plus" aria-hidden="true" style="margin-right:8px;"></i>Add Item
                                </button>
                              </div>
                            </div>


                            <table class="table table-hover col-md-12" style="margin-top: 10px;">
                              <tr style="background-color: #EEEEEE;">
                                <th class="col-md-1" style="font-size:16px;">#</th>
                                <th class="col-md-4" style="font-size:16px;">Description</th>
                                <th class="col-md-1" style="font-size:16px;">Category</th>
                                <th class="col-md-1" style="font-size:16px;">Unit</th>
                                <th class="col-md-1" style="font-size:16px;">Quantity</th>
                                <th class="col-md-1" style="font-size:16px;">Price</th>
                                <th class="col-md-1" style="font-size:16px;">Labor</th>
                                <th class="col-md-1" style="font-size:16px;">Total</th>
                                <th class="col-md-1" style="font-size:16px;"></th>
                              </tr>
                            </table>
                            <table class="table table-hover col-md-12">

                              <tr ng-repeat="item in newProject.items track by $index">
                                <td class="col-md-1">{{$index + 1}}</td>
                                <td class="col-md-4">{{item.Description}}</td>
                                <td class="col-md-1">{{item.Spec}}</td>
                                <td class="col-md-1">{{item.Unit}}</td>
                                <td class="col-md-1"><input type="text" class="form-control" ng-model="item.quantity" value="{{item.quantity}}"></input></td>
                                <td class="col-md-1"><input type="text" class="form-control" ng-model="item.UnitMaterial" value="{{item.UnitMaterial}}"></input></td>
                                <td class="col-md-1"><input type="text" class="form-control" ng-model="item.UnitLabor" value="{{item.UnitLabor}}"></input></td>
                                <td class="col-md-1" ng-bind="calculateEachItemTotalMoney(item.quantity, item.UnitMaterial, item.UnitLabor, $index)"></td>
                                <td>
                                    <button class="btn btn-danger" ng-click="removeThisItemFromNewProjectItemsList($index)"><i class="fa fa-minus" aria-hidden="true"></i></button>
                                </td>
                              </tr>
                            </table>
                            <table class="table table-hover col-md-12" ng-repeat="group in newProject.groups">
                              <tr>
                                <td colspan="9" style="background-color:#EEEEEE;">
                                  <input type="text" class="form-control" style="max-width:400px;display:inline-block;" ng-model="group.name" on-change="updateGroupName($index, $event.target.value)" value="{{group.name}}" />
                                  <button ng-click="removeThisGroupFromNewProject($index)" class="btn btn-danger" style="float:right;display:inline-block;"><i class="fa fa-minus" aria-hidden="true"></i></button>
                                  <button ng-click="addNewItemToThisGroup($index)" class="btn btn-success" style="float:right;display:inline-block;margin-right:10px;"><i class="fa fa-plus" aria-hidden="true"></i>Add Item</button>
                                </td>
                              </tr>

                              <tr ng-repeat="item in group.items track by $index">
                                <td class="col-md-1">{{$index + 1}}</td>
                                <td class="col-md-4">{{item.Description}}</td>
                                <td class="col-md-1">{{item.Spec}}</td>
                                <td class="col-md-1">{{item.Unit}}</td>
                                <td class="col-md-1"><input type="text" class="form-control" ng-model="item.quantity" on-change="insertQuantity(group, item, $event.target.value)" value="{{item.quantity}}"></input></td>
                                <td class="col-md-1"><input type="text" class="form-control" ng-model="item.UnitMaterial" on-change="insertPrice(group, item, $event.target.value)" value="{{item.UnitMaterial}}"></input></td>
                                <td class="col-md-1"><input type="text" class="form-control" ng-model="item.UnitLabor" on-change="insertLaborCost(group, item, $event.target.value)" value="{{item.UnitLabor}}"></input></td>
                                <td class="col-md-1" ng-bind="calculateEachItemTotalMoney(item.quantity, item.UnitMaterial, item.UnitLabor, group, item)"></td>
                                <td>
                                    <button class="btn btn-danger" ng-click="removeThisItemFromNewProject(group.name, $index, item)"><i class="fa fa-minus" aria-hidden="true"></i></button>
                                </td>
                              </tr>
                            </table>
                          </div>
                        </div>
                        <div id="checkOutView" class="viewChild2 col-md-12">
                            <div class="col-md-12">
                                <h2 style="font-size:32px;">Preview Project {{newProject.name}}
                                    <button class="btn btn-success" id="goBackToPreviewProjectPage" style="display:inline-block;margin-left:10px; float:right;padding-left:20px;padding-right:20px;font-size:16px;">
                                        <i class="fa fa-arrow-left" aria-hidden="true" style="display:inline-block;margin-right: 10px;"></i>
                                        Previous
                                    </button>
                                </h2>
                                <h3>Total cost: {{getToTalProjectMoney() | currency:"$":0}}</h3>
                            </div>
                            <table class="table table-hover col-md-12" style="margin-top: 10px;">
                                <tr style="background-color: #EEEEEE;">
                                    <th class="col-md-1">#</th>
                                    <th class="col-md-4">Description</th>
                                    <th class="col-md-1">Category</th>
                                    <th class="col-md-1">Spec</th>
                                    <th class="col-md-1">Unit</th>
                                    <th class="col-md-1">Quantity</th>
                                    <th class="col-md-1">Price</th>
                                    <th class="col-md-1">Labor</th>
                                    <th class="col-md-1">Total</th>

                                </tr>
                            </table>

                            <table class="table table-hover col-md-12">
                                <tr ng-repeat="item in newProject.items track by $index" style="border:0px;">
                                    <td class="col-md-1">{{$index + 1}}</td>
                                    <td class="col-md-4">{{item.Description}}</td>
                                    <td class="col-md-1">{{item.Category}}</td>
                                    <td class="col-md-1">{{item.Spec}}</td>
                                    <td class="col-md-1">{{item.Unit}}</td>
                                    <td class="col-md-1">{{item.quantity}}</td>
                                    <td class="col-md-1">{{item.UnitMaterial}}</td>
                                    <td class="col-md-1">{{item.UnitLabor}}</td>
                                    <td class="col-md-1">{{calculateEachItemTotalMoney2(item.quantity, item.UnitMaterial, item.UnitLabor, $index)}}</td>
                                </tr>
                            </table>

                            <table class="table table-hover col-md-12" ng-repeat="group in newProject.groups track by $index">
                                <tr>
                                    <td colspan="9" style="background-color:#EEEEEE;">
                                        {{group.name}}
                                    </td>
                                </tr>
                                <tr ng-repeat="item in group.items track by $index">
                                    <td class="col-md-1">{{$index + 1}}</td>
                                    <td class="col-md-4">{{item.Description}}</td>
                                    <td class="col-md-1">{{item.Category}}</td>
                                    <td class="col-md-1">{{item.Spec}}</td>
                                    <td class="col-md-1">{{item.Unit}}</td>
                                    <td class="col-md-1">{{item.quantity}}</td>
                                    <td class="col-md-1">{{item.UnitMaterial}}</td>
                                    <td class="col-md-1">{{item.UnitLabor}}</td>
                                    <td class="col-md-1">{{calculateEachItemTotalMoney(item.quantity, item.UnitMaterial, item.UnitLabor, group, item)}}</td>
                                </tr>
                            </table>
                            <button class="btn btn-success" ng-click="saveThisProjectToServer()" style="font-size:18px;width:60%;display:inline-block;margin-left:20%;height:40px;margin-top:16px;">Save Report</button>
                        </div>

                    </div>

                  </div>
                </div>
                <div class="x_panel" id="databasePannel" style="display:none;">
                  <div class="x_title">
                    <h2 style="font-size:24px;">Item Database<small style="font-size:16px;">Insert/Update/Delete Items</small></h2>
                    <ul class="nav navbar-right panel_toolbox">
                      <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                      </li>
                      <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                        <ul class="dropdown-menu" role="menu">
                          <li><a href="#">Settings 1</a>
                          </li>
                          <li><a href="#">Settings 2</a>
                          </li>
                        </ul>
                      </li>
                      <li><a class="close-link"><i class="fa fa-close"></i></a>
                      </li>
                    </ul>
                    <div class="clearfix"></div>
                  </div>
                  <div class="x_content">
                    <div class="col-md-12">
                        <h1 style="font-size:26px;">Manage Items
                          <button class="btn btn-success" style="display:inline-block;margin-left:10px; float:right;padding-left:20px;padding-right:20px;font-size:16px;" id="btn_searchItem" ng-click="saveCurrentChanges()"><i class="fa fa-search" aria-hidden="true" style="display:inline-block;margin-right: 10px;"></i>Search Items</button>
                          <button class="btn btn-success" style="display:inline-block;margin-left:10px; float:right;padding-left:20px;padding-right:20px;font-size:16px;" id="btn_createNewItem"><i class="fa fa-plus" aria-hidden="true" style="display:inline-block;margin-right: 10px;"></i>Create new Item</button>
                        </h1>
                    </div>
                    <div class="col-md-12" id="createNewItemInfoView" style="display:none;">
                        <form class="form-horizontal" ng-submit="createNewItem()">
                            <div class="form-group">
                                <label for="tb_itemName" class="col-sm-2 control-label">Description</label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control" id="tb_itemName" ng-model="tb_itemName" placeholder="Item name..." required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="tb_itemSize" class="col-sm-2 control-label">Spec</label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control" id="tb_itemSize" placeholder="Size..." ng-model="tb_itemSize" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="tb_itemClass" class="col-sm-2 control-label">Origin</label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control" id="tb_itemOrigin" placeholder="Origin" ng-model="tb_itemOrigin" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="tb_itemClass" class="col-sm-2 control-label">Category</label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control" id="tb_itemClass" placeholder="Class..." ng-model="tb_itemClass" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="tb_itemUnit" class="col-sm-2 control-label">Unit</label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control" id="tb_itemSize" placeholder="Unit..." ng-model="tb_itemUnit" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label" for="tb_itemPrice">Price</label>
                                <div class="input-group col-md-10">
                                    <div class="input-group-addon">$</div>
                                    <input type="text" class="form-control" id="tb_itemPrize" placeholder="Amount in dollars" ng-model="tb_itemPrice">
                                    <div class="input-group-addon">.00</div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label" for="tb_itemlaborCost">Labor cost</label>
                                <div class="input-group col-md-10">
                                    <div class="input-group-addon">$</div>
                                    <input type="text" class="form-control" id="tb_itemlaborCost" placeholder="Amount in dollars" ng-model="tb_itemLaborCost">
                                    <div class="input-group-addon">.00</div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-offset-2 col-sm-10">
                                    <button type="submit" class="btn btn-default">Create this item</button>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="col-md-12">
                        <table class="table table-hover col-md-12" style="margin-top: 10px;display:none;" id="tableSearchItem">
                            <tr style="background-color: #EEEEEE;">
                                <th class="col-md-1">Search bar</th>
                                <th class="col-md-5">Description</th>
                                <th class="col-md-1">Spec</th>
                                <th class="col-md-1">Category</th>
                                <th class="col-md-1">Unit</th>
                                <th class="col-md-1">Price</th>
                                <th class="col-md-1">Labor cost</th>
                                <th class="col-md-1"></th>
                            </tr>
                            <tr>
                                <td class="col-md-1"><input type="text" class="form-control" ng-model="searchBox._id" on-change=""></td>
                                <td class="col-md-5"><input class="form-control" ng-model="searchBox.Description" on-change=""></input></td>
                                <td class="col-md-1"><input type="text" class="form-control" ng-model="searchBox.Spec" on-change=""></td>
                                <td class="col-md-1"><input type="text" class="form-control" ng-model="searchBox.Category" on-change=""></td>
                                <td class="col-md-1"><input type="text" class="form-control" ng-model="searchBox.Unit" on-change=""></td>
                                <td class="col-md-1"><input type="text" class="form-control" ng-model="searchBox.UnitMaterial" on-change=""></td>
                                <td class="col-md-1"><input type="text" class="form-control" ng-model="searchBox.UnitLabor" on-change=""></td>
                                <td class="col-md-1"></td>
                            </tr>
                        </table>
                        <table class="table table-hover col-md-12" style="margin-top: 10px;">
                            <tr style="background-color: #EEEEEE;">
                                <th class="col-md-1">#ID</th>
                                <th class="col-md-5">Description</th>
                                <th class="col-md-1">Spec</th>
                                <th class="col-md-1">Category</th>
                                <th class="col-md-1">Unit</th>
                                <th class="col-md-1">Price</th>
                                <th class="col-md-1">Labor cost</th>
                                <th class="col-md-1"></th>
                            </tr>
                            <tr ng-repeat="item in items | filter: searchBox track by $index">
                                <td class="col-md-1">{{item._id}}</td>
                                <td class="col-md-5"><textarea  class="form-control" ng-model="item.Description" ng-change="updateItemName(item)" value="{{item.Description}}"></textarea></td>
                                <td class="col-md-1"><input type="text" class="form-control" ng-model="item.Spec" ng-change="updateItemSize(item)" value="{{item.Spec}}"></td>
                                <td class="col-md-1"><input type="text" class="form-control" ng-model="item.Category" ng-change="updateItemClass(item)" value="{{item.Category}}"></td>
                                <td class="col-md-1"><input type="text" class="form-control" ng-model="item.Unit" ng-change="updateItemUnit(item)" value="{{item.Unit}}"></td>
                                <td class="col-md-1"><input type="text" class="form-control" ng-model="item.UnitMaterial" ng-change="updateItemPrice(item)" value="{{item.UnitMaterial}}"></td>
                                <td class="col-md-1"><input type="text" class="form-control" ng-model="item.UnitLabor" ng-change="updateItemLaborCost(item)" value="{{item.UnitLabor}}"></td>
                                <td class="col-md-1">
                                  <button class="btn btn-danger" ng-click="deleteThisItem($index, item._id)"><i class="fa fa-minus" aria-hidden="true"></i></button>
                                  <button class="btn btn-primary" ng-hide="item.saved" ng-click="updateThisItem(item)"><i class="fa fa-save" aria-hidden="true"></i></button>
                                </td>
                            </tr>
                        </table>
                    </div>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>
        <!-- /page content -->

        <!-- footer content -->
        <footer style="background-color:rgb(247,247,247);">
          <div class="pull-right">
            Gentelella - Bootstrap Admin Template by <a href="https://colorlib.com">Colorlib</a>
          </div>
          <div class="clearfix"></div>
        </footer>
        <!-- /footer content -->
      </div>
    </div>




    <!-- Bootstrap -->
    <script src="lib/jquery-1.10.2.min.js"></script>
    <script src="css/createNewPorjectView_JQuery.js"></script>
    <script src="vendors/bootstrap/dist/js/bootstrap.min.js"></script>

    <script src="lib/json_parse.js"></script>
    <script src="lib/json2.js"></script>
    <script src="lib/json_parse_state.js"></script>

    <script src="lib/angular.min.js"></script>
    <!-- Scripts files -->
    <script src="js/app.js"></script>
    <script src="js/controllers.js"></script>

    <script src="vendors/fastclick/lib/fastclick.js"></script>
    <!-- NProgress -->
    <script src="vendors/nprogress/nprogress.js"></script>
    <!-- Custom Theme Scripts -->
    <script src="build/js/custom.min.js"></script>


  </body>
</html>
